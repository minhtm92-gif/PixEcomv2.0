# Competitor Audit: Facebook Real-time Ads Manager
**Source:** Selles system screenshot (`Facebook Real-time Ads Manager.jfif`)
**Date:** 2026-02-20
**Auditor:** CTO Advisor + Product Owner

---

## 0. PAGE OVERVIEW

ÄÃ¢y lÃ  **core operational dashboard** â€” nÆ¡i seller quáº£n lÃ½ vÃ  monitor toÃ n bá»™ chiáº¿n dá»‹ch quáº£ng cÃ¡o Facebook Ä‘ang cháº¡y. TÆ°Æ¡ng tá»± Facebook Ads Manager nhÆ°ng Ä‘Æ°á»£c customized cho workflow cá»§a platform.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back   f Facebook Real-time Ads Manager          Ã—Close â”‚
â”‚                                                             â”‚
â”‚  [Today] [Yesterday] [This Week] [This Month]  (GMT-9) ðŸ“…  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Filter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Media â‰¡ | Adtext â‰¡ | Thumbnail â‰¡ | Sellpage â‰¡ |     â”‚   â”‚
â”‚  â”‚ Ad Post â‰¡ | Ad Account â‰¡                             â”‚   â”‚
â”‚  â”‚ Campaign â‰¡ | Campaign Status â‰¡ | Campaign Delivery â‰¡ â”‚   â”‚
â”‚  â”‚ Ad Sets â‰¡ | Ad Sets Status â‰¡ | Ad Sets Delivery â‰¡   â”‚   â”‚
â”‚  â”‚ Ads â‰¡ | Ads Status â‰¡ | Ads Delivery â‰¡               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ðŸ“ Campaigns | ðŸ“Š Ad Sets | ðŸ“Š Ads   [Normal View]       â”‚
â”‚                                                             â”‚
â”‚  [Bulk Update â–¾]                                           â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Data Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¡ AI Ad | Campaign & | Delivery | Start | Budget |   â”‚   â”‚
â”‚  â”‚   Asst  | Status     | Status   | Date  |        |   â”‚   â”‚
â”‚  â”‚ Spent | ROAS | Results | CostPerResult | CPM | CTR  â”‚   â”‚
â”‚  â”‚ Link Clicks | CPC | Content Views | CPV | Adds to  â”‚   â”‚
â”‚  â”‚ Cart | Cost per Add to Cart | Checkouts Initiated | â”‚   â”‚
â”‚  â”‚ Cost per Checkout Initiated | Purchases | Cost per  â”‚   â”‚
â”‚  â”‚ Purchase | Purchase conversion value | CR | CR1 | CR2â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Summary row: 13 Campaigns | $75.08 | 1.12 ROAS | ...      â”‚
â”‚                                                             â”‚
â”‚  ðŸŸ¢ "Update Complete - 2 campaigns activated" (top right)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. SCREENSHOT ANALYSIS â€” DETAILED BREAKDOWN

### 1A. Page Header

| Element | Description |
|---------|------------|
| **Back button** | "â† Back" â€” returns to previous page |
| **Title** | "f Facebook Real-time Ads Manager" (with Facebook icon) |
| **Close button** | Ã— (top right) |
| **Status notification** | "Update Complete â€” 2 campaigns activated." (green, top right) |

### 1B. Date Filters (Quick + Custom)

| Element | Type | Value |
|---------|------|-------|
| Today | Tab (active â€” blue text) | Quick filter |
| Yesterday | Tab | Quick filter |
| This Week | Tab | Quick filter |
| This Month | Tab | Quick filter |
| Timezone | Display | (GMT-9) |
| Custom date range | Date picker | `26-01-2026 | 26-01-202...` |

### 1C. Filter Panel (12 Filters!)

Selles provides **12 multi-select filter dropdowns**:

| Filter | Category | Notes |
|--------|----------|-------|
| **Media** â‰¡ | Creative | Filter by video/image version |
| **Adtext** â‰¡ | Creative | Filter by ad text version |
| **Thumbnail** â‰¡ | Creative | Filter by thumbnail version |
| **Sellpage** â‰¡ | Context | Filter by sellpage (highlighted with blue border â€” actively used) |
| **Ad Post** â‰¡ | Creative | Filter by specific Facebook post |
| **Ad Account** â‰¡ | Account | Filter by FB ad account |
| **Campaign** â‰¡ | Hierarchy | Filter by campaign name |
| **Campaign Status** â‰¡ | Status | Active/Paused/etc. |
| **Campaign Delivery** â‰¡ | Delivery | Delivery status |
| **Ad Sets** â‰¡ | Hierarchy | Filter by adset |
| **Ad Sets Status** â‰¡ | Status | |
| **Ad Sets Delivery** â‰¡ | Delivery | |
| **Ads** â‰¡ | Hierarchy | Filter by ad |
| **Ads Status** â‰¡ | Status | |
| **Ads Delivery** â‰¡ | Delivery | |
| **Ã— Clear Filter** | Action | Clear all filters |

**Key Insight:** The filter system lets sellers slice data by ANY dimension:
- By creative (which video, text, thumbnail)
- By context (which sellpage, which ad account)
- By hierarchy level (campaign â†’ adset â†’ ad)
- By status (active, paused) and delivery status

### 1D. View Tabs

| Tab | Icon | Description |
|-----|------|------------|
| **Campaigns** | ðŸ“ | Campaign-level view (active in screenshot) |
| **Ad Sets** | ðŸ“Š | Adset-level breakdown |
| **Ads** | ðŸ“Š | Individual ad-level breakdown |
| **Normal View** | ðŸ“‹ | Toggle button (right side) â€” implies alternate view exists |

### 1E. Bulk Actions

| Element | Description |
|---------|------------|
| **Bulk Update â–¾** | Green dropdown button â€” allows batch status changes |

### 1F. Data Table â€” Column Definitions

The table has **25+ columns**. Grouped by category:

#### Identity & Status Columns

| Column | Description | Data Type |
|--------|------------|-----------|
| â˜ (checkbox) | Multi-select for bulk actions | Boolean |
| **AI Ad Assistant** | Toggle switch (on/off) â€” enables AI optimization | Boolean toggle |
| **Campaign & Status** | Campaign name (truncated) + status indicator (green â— / red â—) | String + enum |
| **Delivery Status** | Active / Inactive badge | Enum (green/red) |
| **Start Date** | Campaign start date | Date (DD.MM.YY format) |
| **Budget** | Budget amount + type | "$120 Daily", "$500 Daily", "$354 Daily" |

#### Performance Metrics Columns

| Column | Description | Formula / Source |
|--------|------------|-----------------|
| **Spent** | Total spend | Direct from Meta |
| **ROAS** | Return on Ad Spend | purchase_value / spend |
| **Results** | Number of conversions/results | Direct from Meta (optimization event) |
| **Cost per Result** | Average cost per result | spend / results |
| **CPM** | Cost per 1000 impressions | (spend / impressions) Ã— 1000 |
| **CTR** | Click-through rate | (clicks / impressions) Ã— 100 |
| **Link Clicks** | Number of link clicks | Direct from Meta |
| **CPC** | Cost per click | spend / link_clicks |
| **Content Views** | Landing page views / content views | Direct from Meta |
| **CPV** | Cost per view | spend / content_views |
| **Adds to Cart** | Add-to-cart events | Direct from Meta pixel |
| **Cost per Add to Cart** | | spend / adds_to_cart |
| **Checkouts Initiated** | Checkout started events | Direct from Meta pixel |
| **Cost per Checkout Initiated** | | spend / checkouts_initiated |
| **Purchases** | Purchase events | Direct from Meta pixel |
| **Cost per Purchase** | | spend / purchases |
| **Purchase conversion value** | Total revenue from purchases | Direct from Meta |
| **CR** | Conversion Rate (general) | purchases / link_clicks Ã— 100 |
| **CR1** | Conversion Rate 1 | Likely: adds_to_cart / content_views Ã— 100 |
| **CR2** | Conversion Rate 2 | Likely: purchases / adds_to_cart Ã— 100 |

### 1G. Data Table â€” Campaign Rows

| Row | Campaign | Status | Start | Budget | Spent | ROAS | Results | CPM | CTR | Link Clicks | CPC | Content Views | CPV | Adds to Cart | Checkouts | Purchases | CR | CR1 | CR2 |
|-----|----------|--------|-------|--------|-------|------|---------|-----|-----|------------|-----|---------------|-----|-------------|-----------|-----------|-----|-----|-----|
| 1 | 1... | â— Active | 26.01.26 | $120 Daily | $0.00 | 0.00 | 0 | $0.00 | 0.00% | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |
| 2 | 1... (AI ON) | â— Active | 12.01.26 | $354 Daily | $2.35 | 0.00 | 0 | $18.80 | 4.00% | 5 | $0.47 | 5 | $0.47 | 0 | $0.00 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |
| 3 | 1... | â— Active | 20.01.26 | $500 Daily | $5.38 | 0.00 | 0 | $26.90 | 3.00% | 6 | $0.90 | 9 | $0.60 | 3 | $1.79 | 1 | $5.38 | 0.00% | 0.00% | 11.11% |
| 4 | 1... | â— Active | 21.01.26 | $120 Daily | $2.75 | 0.00 | 0 | $38.19 | 1.39% | 1 | $2.75 | 2 | $1.38 | 1 | $2.75 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |
| 5 | 1... | â— Active | 24.01.26 | $500 Daily | $9.86 | 4.26 | 1 | $9.86 | 2.16% | 7 | $1.41 | 10 | $0.99 | 2 | $4.93 | 2 | $4.93 | 1 | $9.86 | $41.98 | 10.00% | 20.00% | 50.00% |
| 6 | 2... | â— Active | 13.01.26 | $500 Daily | $20.58 | 0.00 | 0 | $25.76 | 1.75% | 14 | $1.47 | 18 | $1.14 | 2 | $10.29 | 1 | $20.58 | 0 | $0.00 | 0.00% | 5.56% | 0.00% |
| 7 | 2... | â— Inactive | 05.09.25 | $120 Daily | $0.00 | 0.00 | 0 | $0.00 | 0.00% | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |
| 8 | 2... | â— Active | 26.01.26 | $120 Daily | $0.00 | 0.00 | 0 | $0.00 | 0.00% | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |
| 9 | 4... | â— Inactive | 30.12.25 | $120 Daily | $0.00 | 0.00 | 0 | $0.00 | 0.00% | 0 | $0.00 | 1 | $0.00 | 0 | $0.00 | 0 | $0.00 | 0.00% | 0.00% | 0.00% |

### 1H. Summary Row

| Element | Value |
|---------|-------|
| Total Campaigns | 13 Campaigns |
| Total Spent | $75.08 |
| Avg ROAS | 1.12 |
| Total Results | 2 |
| Avg CPM | $37.54 |
| Avg CTR | 2.04% |
| Total Link Clicks | 60 |
| Avg CPC | $1.25 |
| Total Content Views | 73 |
| Avg CPV | $1.03 |
| Total Adds to Cart | 11 |
| Avg Cost per Add to Cart | $6.83 |
| Total Checkouts Initiated | 5 |
| Avg Cost per Checkout Initiated | $15.02 |
| Total Purchases | 2 |
| Avg Cost per Purchase | $37.54 |
| Total Purchase Value | $83.96 |
| Overall CR | 2.74% |
| Overall CR1 | 6.85% |
| Overall CR2 | 40.00% |

### 1I. Notable UI Elements

1. **"AI Ad Assistant" toggle** â€” Per-campaign AI optimization toggle. Row 2 has it ON (blue toggle). This is likely a premium feature or Meta's Advantage Campaign Budget feature.

2. **Status indicators:** Green dot (â—) = Active, Red dot (â—) = Inactive. Status badge text: "Active" (green) or "Inactive" (gray).

3. **"Normal View" button** â€” Implies there's an alternate view (possibly "Compact View" or "Chart View").

4. **Real-time notification:** "Update Complete â€” 2 campaigns activated" â€” indicates the system pushes status changes to Meta and confirms completion.

5. **Budget display:** "$120 Daily" â€” amount + budget type combined.

---

## 2. FUNNEL METRICS ANALYSIS

The column set reveals the **full eCommerce conversion funnel** being tracked:

```
Impressions (implicit via CPM)
    â†“
Link Clicks (CTR%)
    â†“
Content Views (landing page views)
    â†“
Adds to Cart (CR1 = adds_to_cart / content_views)
    â†“
Checkouts Initiated
    â†“
Purchases (CR2 = purchases / adds_to_cart)
    â†“
Purchase Value (ROAS = purchase_value / spend)

Overall: CR = purchases / link_clicks
```

**Derived Metrics Computation:**
```
CPM = (spend / impressions) Ã— 1000
CTR = (link_clicks / impressions) Ã— 100
CPC = spend / link_clicks
CPV = spend / content_views
Cost per Add to Cart = spend / adds_to_cart
Cost per Checkout = spend / checkouts_initiated
Cost per Purchase = spend / purchases
ROAS = purchase_value / spend
CR = (purchases / link_clicks) Ã— 100
CR1 = (adds_to_cart / content_views) Ã— 100    (or similar stage conversion)
CR2 = (purchases / adds_to_cart) Ã— 100        (or similar stage conversion)
```

---

## 3. GAP ANALYSIS â€” PixEcom v2 vs Selles Ads Manager

### 3A. Page Infrastructure

| Feature | Selles | PixEcom v2 | Gap |
|---------|--------|-----------|-----|
| **Dedicated Ads Manager page** | âœ… Full page with table | âŒ No ads manager page | **CRITICAL: Entire page missing** |
| **Real-time data sync** | âœ… "Update Complete" notifications | âŒ No Meta sync | **CRITICAL: No Meta API sync** |
| **Campaign/Adset/Ads tabs** | âœ… 3 hierarchy views | âŒ | **NEW: 3-level drill-down** |
| **Normal/Alternate view toggle** | âœ… | âŒ | P2 (nice to have) |

### 3B. Date Filtering

| Feature | Selles | PixEcom v2 | Gap |
|---------|--------|-----------|-----|
| **Quick date filters** | âœ… Today/Yesterday/This Week/This Month | âŒ | **NEW** |
| **Custom date range picker** | âœ… Calendar picker | âŒ | **NEW** |
| **Timezone display** | âœ… (GMT-9) | âŒ | **NEW** |
| **Timezone-aware stats** | âœ… | âŒ AdStatsDaily has no timezone | **Schema: timezone field** |

### 3C. Multi-Dimensional Filters (12 filters)

| Filter | Selles | PixEcom v2 | Gap |
|--------|--------|-----------|-----|
| **Media version** | âœ… | âŒ | Requires: AdPost â†’ AssetMedia join |
| **Adtext version** | âœ… | âŒ | Requires: AdPost â†’ AssetAdtext join |
| **Thumbnail version** | âœ… | âŒ | Requires: AdPost â†’ AssetThumbnail join |
| **Sellpage** | âœ… (highlighted â€” primary filter) | âŒ | Requires: Campaign.sellpageId |
| **Ad Post** | âœ… | âŒ | Requires: Ad â†’ AdPost join |
| **Ad Account** | âœ… | âŒ | Requires: Campaign.adAccountId |
| **Campaign / Status / Delivery** | âœ… | âœ… Campaign model exists with status | Schema OK â€” needs query |
| **Ad Sets / Status / Delivery** | âœ… | âœ… Adset model exists with status | Schema OK â€” needs query |
| **Ads / Status / Delivery** | âœ… | âœ… Ad model exists with status | Schema OK â€” needs query |
| **Clear all filters** | âœ… | âŒ | Frontend |

### 3D. Data Table Columns (25+ metrics)

| Metric | Selles | PixEcom v2 (AdStatsDaily) | Gap |
|--------|--------|--------------------------|-----|
| **Spent** (spend) | âœ… | âœ… `spend` field | OK |
| **ROAS** | âœ… | âœ… Computable: purchaseValue/spend | OK (computed) |
| **Results** | âœ… | âŒ No generic "results" field | **NEW: Map to optimization event** |
| **Cost per Result** | âœ… | âŒ | Computed from results |
| **CPM** | âœ… | âœ… `cpm` field exists | OK |
| **CTR** | âœ… | âŒ No CTR field | **Computed: needs impressions + clicks** |
| **Link Clicks** | âœ… | âœ… `clicks` field | OK (rename to linkClicks?) |
| **CPC** | âœ… | âœ… `cpc` field exists | OK |
| **Content Views** | âœ… | âŒ No content views field | **NEW field on AdStatsDaily** |
| **CPV (Cost per View)** | âœ… | âŒ | **Computed: spend/contentViews** |
| **Adds to Cart** | âœ… | âŒ No adds_to_cart field | **NEW field on AdStatsDaily** |
| **Cost per Add to Cart** | âœ… | âŒ | Computed |
| **Checkouts Initiated** | âœ… | âŒ No checkouts field | **NEW field on AdStatsDaily** |
| **Cost per Checkout Initiated** | âœ… | âŒ | Computed |
| **Purchases** | âœ… | âœ… `purchases` field | OK |
| **Cost per Purchase** | âœ… | âŒ | Computed: spend/purchases |
| **Purchase conversion value** | âœ… | âœ… `purchaseValue` field | OK |
| **CR** | âœ… | âŒ | **Computed: purchases/linkClicks** |
| **CR1** | âœ… | âŒ | **Computed: addsToCart/contentViews** |
| **CR2** | âœ… | âŒ | **Computed: purchases/addsToCart** |

**AdStatsDaily Current Fields (from schema):**
```prisma
model AdStatsDaily {
  spend          Decimal
  impressions    Int
  clicks         Int
  purchases      Int
  purchaseValue  Decimal
  cpc            Decimal
  cpm            Decimal
  ctr            Decimal
  videoViews     Int        // different from Content Views
  leadCount      Int
  // MISSING: contentViews, addsToCart, checkoutsInitiated, costPerResult
}
```

### 3E. Bulk Actions & AI Features

| Feature | Selles | PixEcom v2 | Gap |
|---------|--------|-----------|-----|
| **Bulk Update dropdown** | âœ… Batch status changes | âŒ | **NEW: Batch campaign/adset/ad updates** |
| **AI Ad Assistant toggle** | âœ… Per-campaign toggle | âŒ | **P3: AI optimization feature** |
| **Multi-select (checkboxes)** | âœ… | âŒ | Frontend |
| **Delivery Status sync** | âœ… Shows delivery status from Meta | âŒ deliveryStatus fields exist but unpopulated | **Requires: Meta API polling** |
| **Real-time status updates** | âœ… "Update Complete" toast | âŒ | **Requires: WebSocket or SSE** |

### 3F. Summary Row

| Feature | Selles | PixEcom v2 | Gap |
|---------|--------|-----------|-----|
| **Summary/total row** | âœ… Aggregated across all visible campaigns | âŒ | **NEW: Aggregation query** |
| **Campaign count** | âœ… "13 Campaigns" | âŒ | COUNT query |
| **Totals (Spent, Clicks, Purchases)** | âœ… SUM | âŒ | SUM query |
| **Averages (ROAS, CPM, CTR, CPC)** | âœ… Weighted avg | âŒ | Weighted avg computation |

---

## 4. REQUIRED CHANGES FOR TECH LEAD

### 4.1 Schema Changes

#### 4.1.1 Extend AdStatsDaily with Missing Funnel Metrics

```prisma
model AdStatsDaily {
  // ... existing fields ...

  // ADD these funnel metrics:
  contentViews        Int       @default(0) @map("content_views")
  addsToCart           Int       @default(0) @map("adds_to_cart")
  checkoutsInitiated   Int       @default(0) @map("checkouts_initiated")
  costPerResult        Decimal   @default(0) @map("cost_per_result") @db.Decimal(12, 4)

  // NOTE: These fields map to Meta Insights API fields:
  // contentViews â†’ actions[action_type=landing_page_view].value
  // addsToCart â†’ actions[action_type=add_to_cart].value
  // checkoutsInitiated â†’ actions[action_type=initiate_checkout].value
}
```

**Migration:**
```sql
ALTER TABLE ad_stats_daily
  ADD COLUMN content_views INTEGER NOT NULL DEFAULT 0,
  ADD COLUMN adds_to_cart INTEGER NOT NULL DEFAULT 0,
  ADD COLUMN checkouts_initiated INTEGER NOT NULL DEFAULT 0,
  ADD COLUMN cost_per_result DECIMAL(12,4) NOT NULL DEFAULT 0;
```

#### 4.1.2 Add Timezone to Seller

```prisma
model Seller {
  // ... existing fields ...
  timezone String @default("America/Los_Angeles") @db.VarChar(50)
}
```

---

### 4.2 New API Endpoints

---

#### `GET /api/ads-manager/campaigns` (Campaign List â€” Tab 1)
**Purpose:** List all campaigns with stats and filter support
**Auth:** JWT (seller-scoped)
**Params:**
```
// Date
dateFrom: date (required)
dateTo: date (required)
datePreset?: "today" | "yesterday" | "this_week" | "this_month"

// Filters (all optional, multi-select via comma-separated)
sellpageIds?: string (comma-separated UUIDs)
adAccountIds?: string
campaignIds?: string
campaignStatus?: string ("ACTIVE,PAUSED")
campaignDelivery?: string
adsetIds?: string
adsetStatus?: string
adsetDelivery?: string
adIds?: string
adStatus?: string
adDelivery?: string
mediaVersions?: string (filter by AssetMedia.version via AdPost)
adtextVersions?: string
thumbnailVersions?: string
adPostIds?: string

// Pagination
page?: number (default 1)
perPage?: number (default 25, max 100)

// Sort
sortBy?: string (default "spent")
sortOrder?: "asc" | "desc"
```

**Response:**
```json
{
  "items": [
    {
      "id": "uuid",
      "externalCampaignId": "meta_123",
      "name": "JettJeans3-CBO-2026-01-26-001",
      "status": "ACTIVE",
      "deliveryStatus": "Active",
      "startDate": "2026-01-26",
      "budget": 120.00,
      "budgetType": "DAILY",
      "aiAssistant": false,
      "sellpage": { "id": "uuid", "domain": "jetjeans.us" },
      "adAccount": { "id": "uuid", "name": "JettJeans Ad Account" },
      "stats": {
        "spend": 9.86,
        "roas": 4.26,
        "results": 1,
        "costPerResult": 9.86,
        "cpm": 9.86,
        "ctr": 2.16,
        "linkClicks": 7,
        "cpc": 1.41,
        "contentViews": 10,
        "cpv": 0.99,
        "addsToCart": 2,
        "costPerAddToCart": 4.93,
        "checkoutsInitiated": 2,
        "costPerCheckout": 4.93,
        "purchases": 1,
        "costPerPurchase": 9.86,
        "purchaseValue": 41.98,
        "cr": 10.00,
        "cr1": 20.00,
        "cr2": 50.00
      }
    }
  ],
  "summary": {
    "totalCampaigns": 13,
    "spend": 75.08,
    "roas": 1.12,
    "results": 2,
    "cpm": 37.54,
    "ctr": 2.04,
    "linkClicks": 60,
    "cpc": 1.25,
    "contentViews": 73,
    "cpv": 1.03,
    "addsToCart": 11,
    "costPerAddToCart": 6.83,
    "checkoutsInitiated": 5,
    "costPerCheckout": 15.02,
    "purchases": 2,
    "costPerPurchase": 37.54,
    "purchaseValue": 83.96,
    "cr": 2.74,
    "cr1": 6.85,
    "cr2": 40.00
  },
  "total": 13,
  "page": 1,
  "perPage": 25
}
```

**Business Logic:**
```
1. Get all Campaigns WHERE sellerId (from JWT)
2. Apply filters (sellpage, status, delivery, etc.)
3. For creative-level filters (media/adtext/thumbnail):
   Campaign â†’ Adset â†’ Ad â†’ AdPost â†’ AssetMedia/Adtext/Thumbnail
4. For each campaign:
   a. Sum AdStatsDaily WHERE entityType = 'CAMPAIGN' AND entityId = campaignId
      AND statDate BETWEEN dateFrom AND dateTo
   b. Compute derived metrics (ROAS, CR, CR1, CR2, etc.)
5. Compute summary row (SUM/AVG across all filtered campaigns)
6. Sort + paginate
```

**Effort:** 5 days (complex filters + stats aggregation + derived metrics)

---

#### `GET /api/ads-manager/adsets` (Adset List â€” Tab 2)
**Purpose:** Same as campaigns but at adset level
**Auth:** JWT
**Response:** Same shape but with adset-level data + parent campaign info

**Effort:** 2 days (reuses campaign endpoint pattern)

---

#### `GET /api/ads-manager/ads` (Ad List â€” Tab 3)
**Purpose:** Individual ad performance with creative details
**Auth:** JWT
**Response:** Same shape but with ad-level data + creative preview info

**Effort:** 2 days

---

#### `PATCH /api/ads-manager/bulk-update` (Bulk Status Update)
**Purpose:** Batch update campaign/adset/ad status
**Auth:** JWT
**Body:**
```json
{
  "entityType": "CAMPAIGN",
  "entityIds": ["uuid1", "uuid2"],
  "updates": {
    "status": "PAUSED"
  }
}
```
**Business Logic:**
1. Validate all entities belong to seller
2. Update status in DB
3. Push status change to Meta API (async via BullMQ)
4. Return updated entities

**Effort:** 3 days (includes Meta API push + async confirmation)

---

#### `PATCH /api/ads-manager/campaigns/:id/ai-assistant` (AI Assistant Toggle)
**Purpose:** Enable/disable AI optimization per campaign
**Auth:** JWT
**Body:**
```json
{
  "enabled": true
}
```
**Note:** This likely maps to Meta's Advantage Campaign Budget or CBO settings. Needs Meta API call.

**Effort:** 1 day

---

#### `GET /api/ads-manager/filter-options` (Dynamic Filter Options)
**Purpose:** Get available values for all filter dropdowns
**Auth:** JWT
**Params:**
```
sellpageId?: string (to scope other filters)
```
**Response:**
```json
{
  "sellpages": [{ "id": "uuid", "domain": "jetjeans.us" }],
  "adAccounts": [{ "id": "uuid", "name": "Account 1" }],
  "campaigns": [{ "id": "uuid", "name": "Campaign 1" }],
  "adsets": [...],
  "statuses": ["ACTIVE", "PAUSED", "INACTIVE"],
  "deliveryStatuses": ["Active", "Inactive", "Learning", "Limited"],
  "mediaVersions": ["v5.0", "v1.2.1", ...],
  "adtextVersions": ["t1.0", "t8.2", ...],
  "thumbnailVersions": ["b1.0", ...]
}
```

**Effort:** 2 days (many joins required for creative version lists)

---

### 4.3 Stats Sync Service (CRITICAL DEPENDENCY)

The Ads Manager page requires **real-time** or **near-real-time** stats from Meta. This is the #1 blocker.

#### Required: Meta Insights Sync Worker

```
apps/worker/src/
  jobs/
    sync-ad-stats.job.ts     # Fetch insights from Meta API
    sync-campaign-status.job.ts  # Sync delivery status
    sync-ad-status.job.ts
```

**Sync Strategy:**
```
1. Every 15 minutes: Pull insights for all ACTIVE campaigns
   - Meta API: GET /{campaign_id}/insights?fields=spend,impressions,...
   - For each Campaign/Adset/Ad level
   - Upsert into AdStatsDaily

2. Every 5 minutes: Pull delivery status for ACTIVE entities
   - Meta API: GET /{campaign_id}?fields=effective_status
   - Update Campaign.deliveryStatus, Adset.deliveryStatus, Ad.deliveryStatus

3. On-demand: "Refresh" button triggers immediate sync
   - Via BullMQ priority queue
```

**Meta Insights API Fields to Fetch:**
```
spend, impressions, clicks, cpc, cpm, ctr,
actions (for purchases, add_to_cart, initiate_checkout, landing_page_view),
action_values (for purchase ROAS value),
cost_per_action_type,
video_views (for video metrics)
```

**Effort:** 8 days (includes Meta API client, rate limiting, error handling, upsert logic)

---

### 4.4 Real-time Updates (WebSocket/SSE)

For the "Update Complete â€” 2 campaigns activated" notification:

**Option A: Server-Sent Events (SSE)** â€” Simpler
```
GET /api/ads-manager/events (SSE stream)
â†’ Emits: { type: "campaign_status_change", data: { campaignId, newStatus } }
â†’ Emits: { type: "stats_updated", data: { timestamp } }
â†’ Emits: { type: "bulk_update_complete", data: { count, action } }
```

**Option B: WebSocket** â€” More flexible but heavier

**Recommendation:** SSE for MVP. WebSocket if need two-way communication later.

**Effort:** 2 days (SSE implementation + BullMQ event listener)

---

## 5. PRIORITY & EFFORT ESTIMATION

### P0 â€” Stats Sync (BLOCKER for everything)

| Item | Effort | Dependencies |
|------|--------|-------------|
| Extend AdStatsDaily schema (add funnel metrics) | 0.5 day | Migration |
| Meta Insights sync worker (campaign/adset/ad levels) | 5 days | Meta API client (from Ad Creation audit) |
| Delivery status sync worker | 2 days | Meta API client |
| Seller timezone handling | 0.5 day | Schema migration |

**Total P0: ~8 dev days**

### P1 â€” Campaign List (Core View)

| Item | Effort | Dependencies |
|------|--------|-------------|
| Campaign list endpoint with stats | 5 days | AdStatsDaily populated |
| Summary row aggregation | 1 day | Campaign list |
| Multi-dimensional filter system | 3 days | Campaign + creative joins |
| Filter options endpoint | 2 days | Schema queries |
| Date preset handling | 0.5 day | Utility |

**Total P1: ~11.5 dev days**

### P2 â€” Adset & Ad Views

| Item | Effort | Dependencies |
|------|--------|-------------|
| Adset list endpoint | 2 days | Reuses campaign pattern |
| Ad list endpoint | 2 days | Reuses campaign pattern |
| Drill-down navigation (Campaign â†’ Adsets â†’ Ads) | 1 day | All 3 endpoints |

**Total P2: ~5 dev days**

### P3 â€” Actions & Real-time

| Item | Effort | Dependencies |
|------|--------|-------------|
| Bulk status update endpoint + Meta push | 3 days | Meta API client |
| AI Assistant toggle | 1 day | Meta API |
| SSE real-time events | 2 days | BullMQ |
| "Update Complete" notification system | 1 day | SSE |

**Total P3: ~7 dev days**

### P4 â€” Frontend

| Item | Effort |
|------|--------|
| Ads Manager page layout + tabs | 2 days |
| Data table with 25+ columns (virtualized) | 3 days |
| Filter panel with 12 dropdowns | 2 days |
| Date picker + quick filters | 1 day |
| Bulk update UI | 1 day |
| Summary row | 0.5 day |
| Real-time notification toast | 0.5 day |

**Total P4: ~10 dev days (frontend)**

---

### TOTAL EFFORT SUMMARY

| Priority | Backend | Frontend | Total |
|----------|---------|----------|-------|
| P0 (Stats Sync) | 8d | â€” | 8d |
| P1 (Campaign List) | 11.5d | â€” | 11.5d |
| P2 (Adset/Ad Views) | 5d | â€” | 5d |
| P3 (Actions/RT) | 7d | â€” | 7d |
| P4 (Frontend) | â€” | 10d | 10d |
| **TOTAL** | **31.5d** | **10d** | **41.5d** |

---

## 6. OWNER NOTES

> **From Product Owner:**
>
> Ads Manager lÃ  **command center** cá»§a seller. ÄÃ¢y lÃ  nÆ¡i seller spend 80% thá»i gian. NÃ³ cáº§n:
>
> 1. **Real-time** â€” Data pháº£i cáº­p nháº­t liÃªn tá»¥c, khÃ´ng pháº£i stale data tá»« hÃ´m qua
> 2. **Filterable** â€” Seller cáº§n slice data theo má»i chiá»u: sellpage, media version, ad text version... VÃ­ dá»¥: "Show me all campaigns using video v5.0 on jetjeans.us" â†’ so sÃ¡nh performance
> 3. **Full funnel metrics** â€” KhÃ´ng chá»‰ Spent + ROAS. Seller cáº§n tháº¥y TOÃ€N Bá»˜ funnel: Impressions â†’ Clicks â†’ Content Views â†’ Add to Cart â†’ Checkout â†’ Purchase. Má»—i bÆ°á»›c Ä‘á»u cÃ³ cost metrics.
> 4. **CR1, CR2** â€” ÄÃ¢y lÃ  conversion rate giá»¯a cÃ¡c bÆ°á»›c trong funnel. Seller dÃ¹ng Ä‘á»ƒ diagnose váº¥n Ä‘á»: CR1 tháº¥p = landing page kÃ©m, CR2 tháº¥p = checkout flow kÃ©m.
> 5. **Bulk actions** â€” Seller quáº£n lÃ½ 10-50+ campaigns. Cáº§n batch pause/activate. KhÃ´ng thá»ƒ 1 campaign 1 láº§n.
> 6. **Summary row** â€” Tá»•ng há»£p táº¥t cáº£ campaigns Ä‘ang hiá»ƒn thá»‹. Seller cáº§n nhÃ¬n overview nhanh.
>
> **PixEcom v2 hiá»‡n táº¡i:** Ads Manager page hoÃ n toÃ n CHÆ¯A CÃ“. Schema Campaign/Adset/Ad tá»“n táº¡i nhÆ°ng khÃ´ng cÃ³ data, khÃ´ng cÃ³ endpoint, khÃ´ng cÃ³ Meta sync. ÄÃ¢y lÃ  gap lá»›n thá»© 2 sau Ad Creation.
>
> **Priority:** Stats Sync (P0) pháº£i lÃ m trÆ°á»›c â€” nÃ³ lÃ  dependency chung cho cáº£ Ads Manager, Homepage dashboard, Sellpage stats, vÃ  Ad Content tab.

---

## 7. ARCHITECTURE WARNINGS

### 7.1 Stats Query Performance

The Ads Manager query is the **most expensive query** in the entire system:
- 13+ campaigns Ã— 25+ computed metrics Ã— date range filtering
- With creative-level filters: requires 6-table JOINs (Campaign â†’ Adset â†’ Ad â†’ AdPost â†’ Asset*)
- Summary row requires full scan before pagination

**Recommendations:**
1. **Materialized view** for campaign-level daily stats (pre-join Campaign + AdStatsDaily)
2. **Redis cache** for summary row (invalidate on stats sync)
3. **Pagination BEFORE stats computation** â€” don't compute stats for all 1000+ campaigns
4. **Column-level lazy loading** â€” only compute expensive metrics (CR1, CR2) if columns are visible

### 7.2 Meta API Rate Limits for Stats Sync

Syncing stats for 100 sellers Ã— 10 campaigns Ã— 3 levels (campaign/adset/ad) = 3,000 API calls every 15 minutes.

**Solution:**
- Batch insights API: `GET /{ad_account_id}/insights?filtering=[{"field":"campaign.id","operator":"IN","value":[...]}]`
- One API call per ad_account, not per campaign
- Rate limit queue per ad_account_id

### 7.3 WebSocket/SSE Scaling

With 100+ concurrent sellers watching their Ads Manager:
- SSE connections are long-lived HTTP connections
- Need proper connection management + heartbeat
- Consider Redis Pub/Sub for multi-instance support

### 7.4 Timezone Handling

Stats dates must be timezone-aware:
- Meta returns stats in the ad account's timezone
- Seller may be in a different timezone (GMT-9 in screenshot)
- "Today" means different dates for different sellers
- AdStatsDaily.statDate must align with the correct timezone

---

## 8. CURRENT STATE AUDIT â€” PixEcom v2 Ads Manager (`/ads-manager`)

> **Source:** `apps/web/src/app/(portal)/ads-manager/page.tsx` + `apps/web/src/mock/campaigns.ts`
> **Preview URL:** `https://preview1.pixelxlab.com/ads-manager`
> **Reviewed:** 2026-02-20

### 8.1 What PixEcom Currently Has

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ads Manager                                                â”‚
â”‚  Campaign performance & management         [+ New Campaign] â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚$7.7K â”‚ â”‚ 486K     â”‚ â”‚ 16.3K     â”‚ â”‚ 658      â”‚          â”‚
â”‚  â”‚Spent â”‚ â”‚Impress.  â”‚ â”‚Clicks     â”‚ â”‚Conv.     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  [10 Campaigns] [4 Active]                                  â”‚
â”‚                                                             â”‚
â”‚  [ðŸ” Search campaigns...] [All Status â–¾] [All Platforms â–¾] â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Campaign | Platform | Status | Budget | Spent |      â”‚   â”‚
â”‚  â”‚ Impressions | Clicks | CTR | CPC | Conv. | ROAS     â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚ ... 10 rows mock data ...                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  Showing 10 of 10 campaigns                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Feature-by-Feature Gap Comparison

#### A. DATA SOURCE

| Aspect | PixEcom (Current) | Selles | Gap |
|--------|-------------------|--------|-----|
| Data source | âŒ Mock data (`mockCampaigns` array, 10 records) | âœ… Real Meta API data | **CRITICAL: 100% mock** |
| API integration | âŒ None â€” `import { mockCampaigns } from '@/mock/campaigns'` | âœ… Real-time Meta sync | No backend endpoint |
| Data freshness | âŒ Static â€” never updates | âœ… Sync every 15 min + on-demand refresh | No sync worker |

#### B. DATE FILTERING (PO nháº¥n máº¡nh: "cÃ³ thá»ƒ lá»c theo ngÃ y, lá»c nhanh today/yesterday/this week/this month")

| Feature | PixEcom | Selles | Gap |
|---------|---------|--------|-----|
| Quick date filters | âŒ **KHÃ”NG CÃ“** | âœ… Today / Yesterday / This Week / This Month | **THIáº¾U HOÃ€N TOÃ€N** |
| Custom date range | âŒ **KHÃ”NG CÃ“** | âœ… Calendar date picker | **THIáº¾U** |
| Timezone display | âŒ | âœ… (GMT-9) | **THIáº¾U** |

#### C. FILTER SYSTEM (PO nháº¥n máº¡nh: "Ä‘á»§ ráº¥t nhiá»u Filter")

| Filter | PixEcom | Selles | Gap |
|--------|---------|--------|-----|
| Search by name | âœ… Text search (name + objective) | âœ… | OK |
| Status filter | âœ… 5 statuses (Active/Paused/Draft/Completed/Error) | âœ… Campaign Status + Delivery Status | Partial â€” thiáº¿u Delivery Status |
| Platform filter | âœ… Facebook/TikTok/Google | âŒ Selles chá»‰ Facebook | OK (PixEcom cÃ³ thÃªm) |
| **Media version** | âŒ | âœ… | **THIáº¾U** |
| **Adtext version** | âŒ | âœ… | **THIáº¾U** |
| **Thumbnail version** | âŒ | âœ… | **THIáº¾U** |
| **Sellpage** | âŒ | âœ… (primary filter â€” highlighted) | **THIáº¾U** |
| **Ad Post** | âŒ | âœ… | **THIáº¾U** |
| **Ad Account** | âŒ | âœ… | **THIáº¾U** |
| **Campaign** | âŒ | âœ… Multi-select dropdown | **THIáº¾U** |
| **Campaign Delivery** | âŒ | âœ… | **THIáº¾U** |
| **Ad Sets / Status / Delivery** | âŒ | âœ… (3 filters) | **THIáº¾U** |
| **Ads / Status / Delivery** | âŒ | âœ… (3 filters) | **THIáº¾U** |
| **Clear all filters** | âœ… (only shows when no results) | âœ… (always visible Ã— button) | Partial |
| **Tá»”NG:** | **3 filters** | **15 filters** | **Thiáº¿u 12 filters** |

#### D. VIEW TABS (Campaign â†’ Adset â†’ Ads drill-down)

| Feature | PixEcom | Selles | Gap |
|---------|---------|--------|-----|
| Campaigns tab | âœ… (only view) | âœ… | OK |
| Ad Sets tab | âŒ | âœ… | **THIáº¾U** |
| Ads tab | âŒ | âœ… | **THIáº¾U** |
| Drill-down navigation | âŒ | âœ… Click campaign â†’ see adsets â†’ click adset â†’ see ads | **THIáº¾U** |
| Normal/Alternate view toggle | âŒ | âœ… | P3 |

#### E. DATA TABLE COLUMNS (PO nháº¥n máº¡nh: "hiá»ƒn thá»‹ ráº¥t nhiá»u chá»‰ sá»‘ cáº§n thiáº¿t")

| Column | PixEcom | Selles | Gap |
|--------|---------|--------|-----|
| Campaign name | âœ… | âœ… | OK |
| Status | âœ… (badge) | âœ… (dot + badge) | OK |
| Platform | âœ… (badge) | N/A (only Facebook) | OK |
| Start Date | âŒ | âœ… | **THIáº¾U** |
| Budget/Day | âœ… | âœ… "$120 Daily" | OK |
| Delivery Status | âŒ | âœ… Active/Inactive badge | **THIáº¾U** |
| AI Ad Assistant | âŒ | âœ… Toggle switch | **THIáº¾U** |
| Spent | âœ… | âœ… | OK |
| ROAS | âœ… | âœ… | OK |
| Impressions | âœ… | âœ… (via CPM) | OK |
| Clicks (Link Clicks) | âœ… | âœ… | OK |
| CTR | âœ… | âœ… | OK |
| CPC | âœ… | âœ… | OK |
| Conversions | âœ… (generic) | âœ… "Results" | OK (rename) |
| **CPM** | âŒ | âœ… | **THIáº¾U** |
| **Results** | âŒ | âœ… | **THIáº¾U** |
| **Cost per Result** | âŒ | âœ… | **THIáº¾U** |
| **Content Views** | âŒ | âœ… | **THIáº¾U** |
| **CPV (Cost per View)** | âŒ | âœ… | **THIáº¾U** |
| **Adds to Cart** | âŒ | âœ… | **THIáº¾U** |
| **Cost per Add to Cart** | âŒ | âœ… | **THIáº¾U** |
| **Checkouts Initiated** | âŒ | âœ… | **THIáº¾U** |
| **Cost per Checkout** | âŒ | âœ… | **THIáº¾U** |
| **Purchases** | âŒ | âœ… | **THIáº¾U** |
| **Cost per Purchase** | âŒ | âœ… | **THIáº¾U** |
| **Purchase Conversion Value** | âŒ | âœ… | **THIáº¾U** |
| **CR** | âŒ | âœ… | **THIáº¾U** |
| **CR1** | âŒ | âœ… | **THIáº¾U** |
| **CR2** | âŒ | âœ… | **THIáº¾U** |
| **Tá»”NG:** | **11 columns** | **25+ columns** | **Thiáº¿u 14+ cá»™t metrics** |

#### F. SUMMARY ROW (PO nháº¯c: "á»ž cuá»‘i cÃ²n cÃ³ row tá»•ng sá»‘ ná»¯a kÃ¬a")

| Feature | PixEcom | Selles | Gap |
|---------|---------|--------|-----|
| Summary row á»Ÿ cuá»‘i báº£ng | âŒ **KHÃ”NG CÃ“** | âœ… Row cuá»‘i: "13 Campaigns \| $75.08 \| 1.12 ROAS \| ..." | **THIáº¾U** |
| Total count | âœ… "Showing X of Y campaigns" (text ngoÃ i báº£ng) | âœ… "13 Campaigns" (trong summary row) | Partial â€” cáº§n move vÃ o row |
| Sum metrics (Spent, Clicks, Purchases...) | âŒ | âœ… SUM across all visible campaigns | **THIáº¾U** |
| Avg metrics (ROAS, CPM, CTR, CPC...) | âŒ | âœ… Weighted average | **THIáº¾U** |
| KPI cards á»Ÿ trÃªn | âœ… 4 cards (Spent, Impressions, Clicks, Conversions) | âŒ Selles khÃ´ng cÃ³ KPI cards riÃªng | PixEcom cÃ³ thÃªm (keep) |

> **âš ï¸ PO NOTE:** Summary row ráº¥t quan trá»ng â€” seller cáº§n nhÃ¬n nhanh tá»•ng há»£p táº¥t cáº£ campaigns Ä‘ang filter mÃ  khÃ´ng cáº§n scroll. Hiá»‡n táº¡i PixEcom chá»‰ cÃ³ KPI cards á»Ÿ trÃªn (tÃ­nh tá»« ALL campaigns, khÃ´ng responsive theo filter) vÃ  text count á»Ÿ dÆ°á»›i. **Cáº§n thÃªm summary row trong báº£ng giá»‘ng Selles.**

#### G. BULK UPDATE (PO nháº¯c: "cÃ²n cÃ³ cáº£ bulk update")

| Feature | PixEcom | Selles | Gap |
|---------|---------|--------|-----|
| Checkbox multi-select | âŒ **KHÃ”NG CÃ“** | âœ… Checkbox má»—i row | **THIáº¾U** |
| "Bulk Update" dropdown | âŒ **KHÃ”NG CÃ“** | âœ… Green dropdown button | **THIáº¾U** |
| Batch pause/activate | âŒ | âœ… Batch status changes | **THIáº¾U** |
| Status push to Meta API | âŒ | âœ… Real-time push + confirmation | **THIáº¾U** |
| "Update Complete" notification | âŒ | âœ… "Update Complete â€” 2 campaigns activated" | **THIáº¾U** |

> **âš ï¸ PO NOTE:** Seller quáº£n lÃ½ 10-50+ campaigns. Náº¿u pháº£i pause/activate tá»«ng campaign 1 láº§n lÃ  ráº¥t tá»‘n thá»i gian. Bulk update lÃ  **must-have cho production**.

#### H. REAL-TIME & NOTIFICATIONS

| Feature | PixEcom | Selles | Gap |
|---------|---------|--------|-----|
| Real-time status notification | âŒ | âœ… "Update Complete" toast (green, top right) | **THIáº¾U** |
| Auto-refresh stats | âŒ | âœ… Stats sync + refresh indicator | **THIáº¾U** |
| SSE/WebSocket | âŒ | âœ… (implied by real-time toast) | **THIáº¾U** |

### 8.3 Mock Data Quality Issues

CampaignDto hiá»‡n táº¡i thiáº¿u ráº¥t nhiá»u fields so vá»›i spec cáº§n thiáº¿t:

```typescript
// CURRENT CampaignDto (mock/types.ts) â€” 17 fields
interface CampaignDto {
  id, name, status, platform, objective,
  dailyBudget, totalSpent, impressions, clicks, conversions,
  ctr, cpc, roas, currency, startDate, endDate,
  createdAt, updatedAt
}

// NEEDED CampaignDto (from Selles audit) â€” 35+ fields
interface CampaignDto {
  // Identity
  id, externalCampaignId, name, status, deliveryStatus,
  startDate, budget, budgetType,
  aiAssistant,          // â† NEW: AI toggle
  sellpage,             // â† NEW: { id, domain }
  adAccount,            // â† NEW: { id, name }

  // Stats (full funnel)
  stats: {
    spend, roas, results, costPerResult,
    cpm, ctr, linkClicks, cpc,
    contentViews, cpv,                    // â† NEW
    addsToCart, costPerAddToCart,          // â† NEW
    checkoutsInitiated, costPerCheckout,  // â† NEW
    purchases, costPerPurchase,           // â† NEW
    purchaseValue,                        // â† NEW
    cr, cr1, cr2                          // â† NEW
  }
}
```

### 8.4 âœ… GAP SCORE CARD

| Category | PixEcom Score | Selles Score | Verdict |
|----------|:------------:|:------------:|---------|
| Data source | 0/10 (mock) | 10/10 (real) | ðŸ”´ **CRITICAL** |
| Date filtering | 0/10 | 9/10 | ðŸ”´ **CRITICAL** |
| Filter system | 2/10 (3 filters) | 9/10 (15 filters) | ðŸ”´ **CRITICAL** |
| Table columns | 4/10 (11 cols) | 9/10 (25+ cols) | ðŸ”´ **CRITICAL** |
| View tabs (drill-down) | 1/10 (1 level) | 8/10 (3 levels) | ðŸŸ¡ **P1** |
| Summary row | 1/10 (text only) | 8/10 (full row) | ðŸŸ¡ **P1** |
| Bulk update | 0/10 | 8/10 | ðŸŸ¡ **P1** |
| Real-time updates | 0/10 | 7/10 | ðŸŸ¡ **P2** |
| **OVERALL** | **1/10** | **8.5/10** | ðŸ”´ **ChÃªnh lá»‡ch ráº¥t lá»›n** |

> **Káº¿t luáº­n:** Trang Ads Manager hiá»‡n táº¡i cá»§a PixEcom v2 chá»‰ lÃ  **UI shell vá»›i mock data** â€” hoÃ n toÃ n chÆ°a sáºµn sÃ ng cho production. So vá»›i Selles, thiáº¿u: 12 filters, 14+ metric columns, summary row, bulk update, date filtering, 3-level drill-down, vÃ  quan trá»ng nháº¥t lÃ  **khÃ´ng cÃ³ real data** (100% mock).

---

## 9. CROSS-REFERENCE WITH OTHER AUDITS

| Audit | Shared Dependency |
|-------|------------------|
| Homepage (`competitor-audit-homepage.md`) | Stats pipeline (AdStatsDaily) for KPI cards |
| Sellpage (`competitor-audit-sellpage.md`) | Stats pipeline for creative performance |
| Product (`competitor-audit-product.md`) | Stats pipeline for per-asset Spent + ROAS |
| Ad Creation (`competitor-audit-ad-creation.md`) | Meta API client (shared with stats sync) |
| **Ads Manager (this)** | All of the above + real-time sync + bulk actions |

**The stats pipeline (Meta Insights â†’ AdStatsDaily) is the SINGLE MOST CRITICAL dependency across ALL features.**

---

## 10. IMPLEMENTATION ROADMAP â€” RECOMMENDED ORDER

> Dá»±a trÃªn gap analysis Section 8, Ä‘Ã¢y lÃ  thá»© tá»± build khuyáº¿n nghá»‹ cho Tech Lead:

### Phase 1: Foundation (Week 1-2) â€” P0 Blockers
```
1. Extend AdStatsDaily schema (add funnel metrics)    â†’ 0.5 day
2. Add Seller.timezone                                â†’ 0.5 day
3. Meta API client + rate limiting                    â†’ 3 days
4. Stats sync worker (insights every 15 min)          â†’ 5 days
5. Delivery status sync (every 5 min)                 â†’ 2 days
```
**Output:** Real data flowing into AdStatsDaily

### Phase 2: Core API (Week 3-4) â€” P1
```
6. Campaign list endpoint (with 25+ metrics)          â†’ 5 days
7. Summary row aggregation                            â†’ 1 day
8. Multi-dimensional filter system (15 filters)       â†’ 3 days
9. Filter options endpoint (dynamic dropdowns)        â†’ 2 days
10. Date preset handling (today/yesterday/week/month) â†’ 0.5 day
```
**Output:** Campaign tab fully functional with real data

### Phase 3: Drill-down + Actions (Week 5) â€” P1
```
11. Adset list endpoint                               â†’ 2 days
12. Ad list endpoint                                  â†’ 2 days
13. Bulk status update + Meta push                    â†’ 3 days
14. Checkbox multi-select UI                          â†’ 0.5 day
```
**Output:** 3-level drill-down + bulk update working

### Phase 4: Frontend Upgrade (Week 5-6) â€” P1
```
15. Rebuild table with 25+ columns (virtualized)     â†’ 3 days
16. Date picker + quick filters UI                    â†’ 1 day
17. Filter panel (15 dropdowns)                       â†’ 2 days
18. Summary row UI                                    â†’ 0.5 day
19. Tabs (Campaigns/AdSets/Ads)                       â†’ 1 day
20. Bulk update dropdown UI                           â†’ 1 day
21. Replace mock data â†’ real API calls                â†’ 1 day
```
**Output:** Frontend matching Selles quality

### Phase 5: Polish (Week 7) â€” P2
```
22. SSE real-time events                              â†’ 2 days
23. "Update Complete" notification toast              â†’ 0.5 day
24. AI Ad Assistant toggle (Meta CBO)                 â†’ 1 day
```
**Output:** Real-time experience

---

*End of Ads Manager audit â€” updated with current state analysis (2026-02-20)*
